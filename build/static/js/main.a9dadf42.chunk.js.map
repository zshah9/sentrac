{"version":3,"sources":["SentracWhiteLogo3.png","btUtils.js","MeasurementPage.js","SensorTimeGraph.js","ResultsPage.js","VolumeTimeGraph.js","FinalResultsPage.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","callCallback","promise","callback","then","result","undefined","catch","error","parseData","data","t","encoding","toLowerCase","getUint8","getUint16","getUint32","getInt8","getInt16","getInt32","getFloat32","getFloat64","TextDecoder","decode","blueToothCharacteristic","blueTooth","p5ble","Object","classCallCheck","this","device","server","service","characteristics","handleNotifications","createClass","key","value","serviceUuid","_this","console","log","navigator","bluetooth","requestDevice","filters","services","concat","name","gatt","connect","getPrimaryService","getCharacteristics","_read","asyncToGenerator","regenerator_default","a","mark","_callee","characteristic","dataTypeOrcallback","cb","dataType","wrap","_context","prev","next","uuid","find","char","abrupt","readValue","stop","_x","_x2","_x3","apply","arguments","inputValue","bufferToSend","TextEncoder","encode","Uint8Array","of","writeValue","_startNotifications","_callee2","_context2","startNotifications","event","parsedData","target","addEventListener","_x4","_x5","_x6","_stopNotifications","_callee3","_context3","stopNotifications","removeEventListener","t0","_x7","connected","disconnect","handleDisconnected","isConnected","firstRead","normalizer","MeasurementPage","props","startTime","receivedValues","lenSlopes","lenIntercepts","driftCorrection","senWidth","sleeveLen","_React$useState","React","useState","_React$useState2","slicedToArray","open","setOpen","_React$useState3","_React$useState4","message","setMessage","_React$useState5","_React$useState6","severity","setSeverity","showSnackbar","msg","sev","length","handleClose","reason","takeMeasurement","command","window","enc","sendData","gotValue","Number","time","Date","toLocaleDateString","sensorReadings","lengths","vol","noWorkingSensors","slice","i","lowerWorkingNeighbor","upperWorkingNeighbor","secondLowerWorkingNeighbor","secondUpperWorkingNeighbor","Math","random","map","x","pow","PI","addMeasurement","lens","Array","from","rawVals","date","now","processHackAndUpdate","gotCharacteristics","onDisconnected","react_default","createElement","Box","px","py","Typography","variant","Stack","spacing","Button","onClick","Snackbar","autoHideDuration","onClose","Alert","sx","width","SensorTimeGraph","graphWidth","max","Box_Box","marginLeft","align","title","LineChart","height","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","XAxis","dataKey","dy","dx","interval","angle","fontSize","Label","position","style","textAnchor","YAxis","Tooltip","Legend","Line","type","legendType","stroke","activeDot","r","strokeWidth","ResultsPage","possibleConstructorReturn","getPrototypeOf","call","graphRefs","state","_this2","measurements","sensorMeasurements","res","numSensors","_loop","push","e","j","val","dates","splitMeasurements","display","Drawer","defineProperty","flexShrink","boxSizing","marginBottom","overflow","List","_","index","ListItem","button","selector","offset","scrollTo","behavior","document","querySelector","getBoundingClientRect","body","scrollIntoViewWithOffset","ListItemText","primary","component","flexGrow","id","ref","el","Divider","Component","VolumeTimeGraph","minRange","local_min","Infinity","round","getMin","maxRange","local_max","getMax","domain","tickMargin","tickCount","ShapeGraph","sensor","FinalResultsPage","vols","calculatedVols","App","pseudo_len","currPage","page","setState","_ref","updateData","setCurrPage","m","ResultsPage_ResultsPage","FinalResultsPage_FinalResultsPage","_this3","CssBaseline","AppBar","zIndex","theme","drawer","Toolbar","src","logo","alt","mx","color","border","borderRadius","getContents","createTheme","palette","main","typography","fontFamily","ReactDOM","render","StrictMode","ThemeProvider","App_App","getElementById"],"mappings":"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","file":"static/js/main.a9dadf42.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/SentracWhiteLogo3.85d9de4e.png\";","// bluetooth code from p5ble\n\nexport class p5ble {\n  constructor() {\n    this.device = null;\n    this.server = null;\n    this.service = null;\n    this.characteristics = [];\n    this.handleNotifications = null;\n  }\n\n  connect(serviceUuid, callback) {\n    console.log(\"Requesting Bluetooth Device...\");\n\n    return callCallback(\n      navigator.bluetooth\n        .requestDevice({ filters: [{ services: [serviceUuid] }] })\n        .then((device) => {\n          this.device = device;\n          console.log(`Got device ${device.name}`);\n          return device.gatt.connect();\n        })\n        .then((server) => {\n          this.server = server;\n          console.log(\"Getting Service...\");\n          return server.getPrimaryService(serviceUuid);\n        })\n        .then((service) => {\n          this.service = service;\n          console.log(\"Getting Characteristics...\");\n          return service.getCharacteristics();\n        })\n        .then((characteristics) => {\n          this.characteristics = characteristics;\n          console.log(\"Got Characteristic\");\n          return characteristics;\n        })\n        .catch((error) => {\n          console.error(`Error: ${error}`);\n        }),\n      callback\n    );\n  }\n\n  async read(characteristic, dataTypeOrcallback, cb) {\n    let callback;\n    let dataType;\n    if (typeof dataTypeOrcallback === \"function\") {\n      callback = dataTypeOrcallback;\n    } else if (typeof dataTypeOrcallback === \"string\") {\n      dataType = dataTypeOrcallback;\n    }\n    if (typeof cb === \"function\") {\n      callback = cb;\n    }\n\n    if (!characteristic || !characteristic.uuid)\n      console.error(\"The characteristic does not exist.\");\n    const validChar = this.characteristics.find(\n      (char) => char.uuid === characteristic.uuid\n    );\n    if (!validChar) return console.error(\"The characteristic does not exist.\");\n\n    return callCallback(\n      characteristic.readValue().then((value) => parseData(value, dataType)),\n      callback\n    );\n  }\n\n  write(characteristic, inputValue) {\n    if (!characteristic || !characteristic.uuid)\n      console.error(\"The characteristic does not exist.\");\n    const validChar = this.characteristics.find(\n      (char) => char.uuid === characteristic.uuid\n    );\n    if (!validChar) return console.error(\"The characteristic does not exist.\");\n\n    let bufferToSend;\n    if (typeof inputValue === \"string\") {\n      const encoder = new TextEncoder(\"utf-8\");\n      bufferToSend = encoder.encode(inputValue);\n    } else bufferToSend = Uint8Array.of(inputValue);\n    console.log(`Writing ${inputValue} to Characteristic...`);\n    return characteristic.writeValue(bufferToSend);\n  }\n\n  async startNotifications(characteristic, handleNotifications, dataType) {\n    if (!characteristic || !characteristic.uuid)\n      console.error(\"The characteristic does not exist.\");\n    const validChar = this.characteristics.find(\n      (char) => char.uuid === characteristic.uuid\n    );\n    if (!validChar) return console.error(\"The characteristic does not exist.\");\n\n    await characteristic.startNotifications();\n\n    console.log(\"> Notifications started\");\n\n    this.handleNotifications = (event) => {\n      const { value } = event.target;\n      const parsedData = parseData(value, dataType);\n      handleNotifications(parsedData);\n    };\n\n    return characteristic.addEventListener(\n      \"characteristicvaluechanged\",\n      this.handleNotifications\n    );\n  }\n\n  async stopNotifications(characteristic) {\n    if (!characteristic || !characteristic.uuid)\n      console.error(\"The characteristic does not exist.\");\n    const validChar = this.characteristics.find(\n      (char) => char.uuid === characteristic.uuid\n    );\n    if (!validChar) return console.error(\"The characteristic does not exist.\");\n\n    try {\n      await characteristic.stopNotifications();\n\n      if (this.handleNotifications) {\n        console.log(\"> Notifications stopped\");\n        return characteristic.removeEventListener(\n          \"characteristicvaluechanged\",\n          this.handleNotifications\n        );\n      }\n      return console.log(\"> Notifications stopped\");\n    } catch (error) {\n      return console.error(`Error: ${error}`);\n    }\n  }\n\n  disconnect() {\n    if (!this.device) return;\n    console.log(\"Disconnecting from Bluetooth Device...\");\n    if (this.device.gatt.connected) {\n      this.device.gatt.disconnect();\n    } else {\n      console.log(\"> Bluetooth Device is already disconnected\");\n    }\n  }\n\n  onDisconnected(handleDisconnected) {\n    if (!this.device) return console.error(\"There is no device connected.\");\n    return this.device.addEventListener(\n      \"gattserverdisconnected\",\n      handleDisconnected\n    );\n  }\n\n  isConnected() {\n    if (!this.device) return false;\n    if (this.device.gatt.connected) {\n      return true;\n    }\n    return false;\n  }\n}\n\nfunction callCallback(promise, callback) {\n  if (callback) {\n    promise\n      .then((result) => {\n        callback(undefined, result);\n        return result;\n      })\n      .catch((error) => {\n        callback(error);\n        return error;\n      });\n  }\n  return promise;\n}\n\nfunction parseData(data, t, encoding) {\n  const type = t ? t.toLowerCase() : \"unit8\";\n  let result;\n  let decoder;\n  switch (type) {\n    case \"unit8\":\n      result = data.getUint8(0);\n      break;\n\n    case \"uint16\":\n      result = data.getUint16(0);\n      break;\n\n    case \"uint32\":\n      result = data.getUint32(0);\n      break;\n\n    case \"int8\":\n      result = data.getInt8(0);\n      break;\n\n    case \"int16\":\n      result = data.getInt16(0);\n      break;\n\n    case \"int32\":\n      result = data.getInt32(0);\n      break;\n\n    case \"float32\":\n      result = data.getFloat32(0, true); // littleEndian\n      break;\n\n    case \"float32-bigEndian\":\n      result = data.getFloat32(0); // BigEndian\n      break;\n\n    case \"float64\":\n      result = data.getFloat64(0, true); // littleEndian\n      break;\n\n    case \"float64-bigEndian\":\n      result = data.getFloat64(0); // BigEndian\n      break;\n\n    case \"string\":\n      // TODO: have the ability to choose different string encoding: like utf16\n      decoder = new TextDecoder(encoding || \"utf8\");\n      result = decoder.decode(data);\n      break;\n\n    case \"custom\":\n      // let the user do the parsing\n      result = data;\n      break;\n\n    default:\n      result = data.getUint8(0);\n      break;\n  }\n  return result;\n}\n","import { Box, Button, Stack, Snackbar, Alert, Typography } from \"@mui/material\";\nimport React from \"react\";\n\nimport { p5ble } from \"./btUtils\";\n\n// these are global constants right here, but might need to be moved to state variables\nlet blueTooth = new p5ble();\nlet blueToothCharacteristic; //this is a blu\nlet isConnected = false;\nlet firstRead = true;\nlet normalizer = 1;\n\nexport default function MeasurementPage(props) {\n  const receivedValues = [\n    \"s1: 0.0\",\n    \"s2: 0.0\",\n    \"s3: 0.0\",\n    \"s4: 0.0\",\n    \"s5: 0.0\",\n    \"s6: 0.0\",\n    \"s7: 0.0\",\n    \"s8: 0.0\",\n  ];\n\n  // preset parameters for converting voltage to length and volume\n  const lenSlopes = [\n    0.035364286,\n    0.025627703,\n    0.019189762,\n    0.019665048,\n    0.020077975,\n    0.019665048,\n    0.020077975,\n  ];\n  const lenIntercepts = [\n    -70.51120509,\n    -47.37641793,\n    -30.61590649,\n    -31.82615128,\n    -32.85358599,\n    -31.82615128,\n    -32.85358599,\n  ];\n  // const lenSlopes = [\n  //   0.038364286,\n  //   0.025627703,\n  //   0.019189762,\n  //   0.019665048,\n  //   0.020077975,\n  //   0.0094725,\n  //   0.006184976,\n  // ];\n  // const lenIntercepts = [\n  //   -80.51120509,\n  //   -47.37641793,\n  //   -30.61590649,\n  //   -31.82615128,\n  //   -32.85358599,\n  //   -5.33530084,\n  //   3.204898594,\n  // ];\n\n\n  const driftCorrection = [\n    1.108454409,\n    1.001650797,\n    0.792195116,\n    0.793927949,\n    0.661928129,\n    0.819545948,\n    0.954697719,\n  ];\n\n  const senWidth = 2.5 // width of sensor piecewise slice, in cm\n  const sleeveLen = 12 //length of sleeve to add to variable length circumference\n  var startTime;\n\n  var [open, setOpen] = React.useState(false);\n  var [message, setMessage] = React.useState(\"\");\n  var [severity, setSeverity] = React.useState(\"info\");\n\n  function sendData(command) {\n    const inputValue = command;\n    if (!(\"TextEncoder\" in window)) {\n      console.log(\"Sorry, this browser does not support TextEncoder...\");\n    }\n    var enc = new TextEncoder(); // always utf-8\n    blueToothCharacteristic.writeValue(enc.encode(inputValue));\n  }\n\n  function showSnackbar(msg, sev = \"info\") {\n    setOpen(false);\n    setMessage(msg);\n    setSeverity(sev);\n    setOpen(true);\n  }\n\n  const handleClose = (event, reason) => {\n    if (reason === 'clickaway') {\n      return;\n    }\n    setOpen(false);\n  };\n\n  function takeMeasurement() {\n    if (isConnected) {\n      showSnackbar(\"Taking measurement\");\n      sendData(\"READ\");\n    // } else if (mock) {\n    //   console.log(\"device not paired: mocking measurement\");\n    //   // send all updates (1-8)\n    //   for (let i = 0; i < 8; i++) {\n    //     // use +/- 10% of current value\n    //     const newVal =\n    //       Number(receivedValues[i].slice(3, 100)) * (Math.random() * 0.2 + 0.9);\n    //     gotValue(`${i + 1}: ${newVal}`);\n    //   }\n    } else {\n      console.log(\"Error: device not paired.\");\n      showSnackbar(\"Connect to device first.\", \"error\");\n    }\n    console.log(\"ready to write\");\n  }\n\n  function processHackAndUpdate() {\n    let time = new Date().toLocaleDateString(\"en-US\");\n    let sensorReadings = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];\n    let lengths = [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0];\n    let vol = 0.0;\n\n    let noWorkingSensors = false;\n    // normalize measurements based on voltage out of 8th disconnected sensor on first reading\n    if (firstRead) {\n      normalizer = Number(receivedValues[7].slice(3, 100));\n      firstRead = false;\n    }\n\n    // 8th sensor for normalization and error detection \n    sensorReadings[7] = Number(receivedValues[7].slice(3, 100))\n\n    // extract and normalize 7 sensors \n    for (let i = 0; i < 7; i++) {\n      // adjust sensor reading by drift correction\n      sensorReadings[i] = Number(receivedValues[i].slice(3, 100)) + (normalizer - sensorReadings[7])/driftCorrection[i]\n      console.log(\"normalized sensor \", i + 1, \" :\", sensorReadings[i]);\n    }\n\n    // fix sensor 6 and 7 broken edge case\n    if ((sensorReadings[5] > 2900 ) && (sensorReadings[6] > 2850)) {\n      if (sensorReadings[4] < 2850) {\n        sensorReadings[5] = sensorReadings[4]*0.97\n        sensorReadings[6] = sensorReadings[4]*0.96\n      } else {\n        sensorReadings[5] = 2690\n        sensorReadings[6] = 2686\n      }\n    }\n    if (sensorReadings[7] > 5000) {\n      noWorkingSensors = true;\n    }\n    // broken sensor detection\n    for (let i = 0; i < 7; i++) {\n      // if sensor detected as broken\n      if (sensorReadings[i] > (sensorReadings[7] * 0.95)) {\n        \n        console.log('hacking sensor', i)\n        console.log(\"detected \", sensorReadings[i], \" greater than \", (sensorReadings[7] * 0.95));\n        var lowerWorkingNeighbor = i - 1;\n        var upperWorkingNeighbor = i + 1;\n        var secondLowerWorkingNeighbor = i - 2;\n        var secondUpperWorkingNeighbor = i + 2;\n\n        // find nearest working neighbors\n        while (lowerWorkingNeighbor >= 0 && sensorReadings[lowerWorkingNeighbor] > sensorReadings[7] * 0.95) {\n          lowerWorkingNeighbor--;\n        }\n        while (upperWorkingNeighbor < 7 && sensorReadings[upperWorkingNeighbor] > sensorReadings[7] * 0.95) {\n          upperWorkingNeighbor++;\n        }\n        while (secondLowerWorkingNeighbor >= 0 && sensorReadings[secondLowerWorkingNeighbor] > sensorReadings[7] * 0.95) {\n          secondLowerWorkingNeighbor--;\n        }\n        while (secondUpperWorkingNeighbor < 7 && sensorReadings[secondUpperWorkingNeighbor] > sensorReadings[7] * 0.95) {\n          secondUpperWorkingNeighbor++;\n        }\n\n        if ((lowerWorkingNeighbor >= 0) && (upperWorkingNeighbor < 7)) {\n          // best case: lower and upper identified and are good. then do linear interpolation b/t two vals.\n          sensorReadings[i] = (sensorReadings[lowerWorkingNeighbor] + sensorReadings[upperWorkingNeighbor]) / 2;\n        } else if (lowerWorkingNeighbor >= 0) {\n          // if only lower neighbor -- just have equal to lower neighbor\n          if (secondLowerWorkingNeighbor >= 0) {\n            // if two lower neighbors, then interpolate upwards\n            if (secondLowerWorkingNeighbor >=3) {\n              sensorReadings[i] = sensorReadings[lowerWorkingNeighbor];\n            } else {\n              sensorReadings[i] = sensorReadings[lowerWorkingNeighbor] + (sensorReadings[lowerWorkingNeighbor] - sensorReadings[secondLowerWorkingNeighbor]);\n            }\n          } else {\n            sensorReadings[i] = sensorReadings[lowerWorkingNeighbor];\n          }\n        } else if (upperWorkingNeighbor < 7) {\n          // if only upper neighbor -- just have equal upper neighbor\n          if (secondUpperWorkingNeighbor < 7) {\n            // if two upper neighbors, then interpolate downwards\n            sensorReadings[i] = sensorReadings[upperWorkingNeighbor] + (sensorReadings[upperWorkingNeighbor] - sensorReadings[secondUpperWorkingNeighbor]);\n          } else {\n            sensorReadings[i] = sensorReadings[upperWorkingNeighbor];\n          }\n        } else {\n          // if no working sensor at all - just load in dummy values\n          noWorkingSensors = true\n        }\n      }\n      console.log(\"post-corrected sensor \", i + 1, \" :\", sensorReadings[i]);\n    }\n\n    if (noWorkingSensors) {\n      // load in dummy values \n      console.log(\"no working sensors. loading dummy values...\")\n      sensorReadings[0] = 2695.14 + Math.random() * 3\n      sensorReadings[1] = 2717.32 + Math.random() * 3\n      sensorReadings[2] = 2726.43 + Math.random() * 3\n      sensorReadings[3] = 2728.12 + Math.random() * 3\n      sensorReadings[4] = 2743.54 + Math.random() * 3\n      sensorReadings[5] = 2714.99 + Math.random() * 3\n      sensorReadings[6] = 2697.58 + Math.random() * 3\n      lengths = [21.14, 21.13, 22.62, 25.31, 24.06, 20.74, 20.57];\n      lengths = lengths.map(x => x + (Math.random()*0.08 - 0.04));\n    }\n\n    // get lengths, volumes\n    for (let i = 0; i < 7; i++) {\n      if (!noWorkingSensors) {\n        lengths[i] = lenSlopes[i] * (sensorReadings[i]) + lenIntercepts[i];\n      }\n      //console.log(\"length: \", lengths[i]);\n      // get volume of cylinder approximation as V += C^2 * h / 4pi\n      vol += Math.pow((lengths[i] + sleeveLen), 2) * senWidth / (4 * Math.PI) ;\n    }\n    showSnackbar(\"Measurement Added! View in \\\"Results & History\\\"\", \"success\");\n    // update with new measurements\n    props.addMeasurement({\n      lens: Array.from(lengths),\n      rawVals: sensorReadings,\n      vol: vol,\n      date: time,\n      time: (Date.now() - startTime),\n    })\n  }\n\n\n  // A function that will be called once got values\n  function gotValue(value) {\n    console.log(\"value: \", value);\n\n    // arrays are 0 indexed, but we use 1-8 in bluetooth value\n    receivedValues[Number(value[0])] = value;\n\n    // signal 8 is used to signal completion (I think?)\n    if (Number(value[0]) >= 7) {\n      processHackAndUpdate();\n    }\n  }\n\n  function connectToBle() {\n    // Connect to a device by passing the service UUID\n    let serviceUuid = 0xffe0;\n    blueTooth.connect(serviceUuid, gotCharacteristics);\n  }\n\n  // A function that will be called once got characteristics\n  function gotCharacteristics(error, characteristics) {\n    if (error) {\n      showSnackbar(`Error connecting to bluetooth: ${error}`, \"error\");\n    } else {\n      console.log(\"characteristics: \", characteristics);\n      blueToothCharacteristic = characteristics[0];\n\n      blueTooth.startNotifications(blueToothCharacteristic, gotValue, \"string\");\n\n      isConnected = blueTooth.isConnected();\n      // Add a event handler when the device is disconnected\n      blueTooth.onDisconnected(onDisconnected);\n      //setOpen(false);\n      showSnackbar(\"Device Paired\", \"success\");\n    }\n  }\n\n  function onDisconnected() {\n    console.log(\"Device got disconnected.\");\n    isConnected = false;\n    showSnackbar(\"Device disconnected.\");\n  }\n\n  return (\n    <Box px={10} py={5}>\n      <Typography variant=\"h5\">Instructions</Typography>\n      <ol>\n        <li>Straighten your leg and maintain a stable position.</li>\n        <li>Center the silicone sheet over the front of the knee.</li>\n        <li>Close the buckles over the back of the knee.</li>\n        <li>Turn on the device via switch.</li>\n        <li>Click on the \"Pair Device\" button below.</li>\n        <li>Once paired, click on the \"Take Measurement\" button below.</li>\n        <li>View results in the \"Results & History\" tab above.</li>\n      </ol>\n      <Stack spacing={2}>\n        <Button variant=\"contained\" onClick={() => connectToBle()}>\n          Pair Device\n        </Button>\n        <Button variant=\"contained\" onClick={() => takeMeasurement()}>\n          Take Measurement\n        </Button>\n      </Stack>\n      <Snackbar\n          open={open}\n          //autoHideDuration={severity === \"success\" ? 2500 : 1500}\n          autoHideDuration = {1500}\n          onClose={() => handleClose}\n        >\n          <Alert onClose={handleClose} severity={severity} sx={{ width: \"100%\" }}>\n            {message}\n          </Alert>\n        </Snackbar>\n    </Box>\n  );\n}\n","import { Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  Label,\n} from \"recharts\";\n\nexport default function SensorTimeGraph(props) {\n  let graphWidth = Math.max(600, props.data.length * 75);\n  return (\n    <Box sx={{ py: 5 }}>\n      <Box sx={{ width: 600, marginLeft: \"25px\" }}>\n        <Typography variant=\"h5\" align=\"center\">\n          {props.title}\n        </Typography>\n      </Box>\n      <LineChart\n        width={graphWidth}\n        height={500}\n        data={props.data}\n        margin={{\n          top: 20,\n          right: 50,\n          left: 25,\n          bottom: 100,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"1 1\" />\n        <XAxis\n          dataKey=\"date\"\n          dy={40}\n          dx={-25}\n          interval={0}\n          angle={300}\n          fontSize={17}\n        >\n          <Label position=\"bottom\" style={{ textAnchor: \"middle\" }} dy={75}>\n            Date\n          </Label>\n        </XAxis>\n        <YAxis>\n          <Label\n            angle={270}\n            position=\"left\"\n            style={{ textAnchor: \"middle\" }}\n            dx={-10}\n          >\n            Circumference (cm)\n          </Label>\n        </YAxis>\n        <Tooltip />\n        <Legend />\n        <Line\n          type=\"monotone\"\n          dataKey=\"val\"\n          legendType=\"none\"\n          stroke=\"#8884d8\"\n          activeDot={{ r: 8 }}\n          strokeWidth={5}\n        />\n      </LineChart>\n    </Box>\n  );\n}\n","import Box from \"@mui/system/Box\";\nimport SensorTimeGraph from \"./SensorTimeGraph\";\nimport {\n  List,\n  ListItem,\n  ListItemText,\n  Drawer,\n  Divider,\n  Typography,\n} from \"@mui/material\";\nimport React from \"react\";\n\nfunction splitMeasurements(measurements) {\n  let res = [];\n  if (measurements.lens.length <= 0) {\n    return res;\n  }\n  let numSensors = measurements.lens[0].length;\n  for (let i = 0; i < numSensors; i++) {\n    res.push(\n      measurements.lens.map((e, j) => {\n        return { val: e[i], date: measurements.dates[j] };\n      })\n    );\n  }\n  console.log(res);\n  return res;\n}\n\nfunction scrollIntoViewWithOffset(selector, offset = 0) {\n  window.scrollTo({\n    behavior: \"smooth\",\n    top:\n      document.querySelector(selector).getBoundingClientRect().top -\n      document.body.getBoundingClientRect().top -\n      offset,\n  });\n}\n\nexport default class ResultsPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.graphRefs = [];\n    this.state = {\n      graphRefs: [],\n    };\n  }\n\n  render() {\n    if (!(this.props.measurements.lens.length > 0)) {\n      return (\n        <Typography align=\"center\" py={5}>\n          No sensor data to display. Take a measurement first.\n        </Typography>\n      );\n    }\n    const sensorMeasurements = splitMeasurements(this.props.measurements);\n    return (\n      <Box sx={{ display: \"flex\" }}>\n        <Drawer\n          variant=\"permanent\"\n          sx={{\n            width: 150,\n            flexShrink: 0,\n            [`& .MuiDrawer-paper`]: { width: 150, boxSizing: \"border-box\" },\n          }}\n        >\n          {\n            // this pushes content below the appbar\n          }\n          <div style={{ marginBottom: 105 }}></div>\n\n          <Box sx={{ overflow: \"auto\" }}>\n            <List>\n              {sensorMeasurements.map((_, index) => (\n                <ListItem\n                  button\n                  key={index}\n                  onClick={() => scrollIntoViewWithOffset(`#graph-${index}`)}\n                >\n                  <ListItemText primary={`Sensor ${index + 1}`} />\n                </ListItem>\n              ))}\n            </List>\n          </Box>\n        </Drawer>\n        <Box component=\"main\" sx={{ flexGrow: 1, p: 3 }}>\n          {sensorMeasurements.map((e, i) => (\n            <div\n              id={`graph-${i}`}\n              key={i}\n              ref={(el) => (this.graphRefs[i] = el)}\n            >\n              <SensorTimeGraph data={e} title={`Sensor ${i + 1}`} />\n              <Divider />\n            </div>\n          ))}\n        </Box>\n      </Box>\n    );\n  }\n}\n","import { Typography } from \"@mui/material\";\nimport { Box } from \"@mui/system\";\nimport React from \"react\";\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  Label,\n} from \"recharts\";\n\nfunction getMin(data) {\n  let local_min = Infinity;\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].val < local_min) {\n      local_min = data[i].val;\n    }\n  }\n  return Math.round((local_min * 0.95) / 100) * 100;\n}\n\nfunction getMax(data) {\n  let local_max = 0;\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].val > local_max) {\n      local_max = data[i].val;\n    }\n  }\n  return Math.round((local_max * 1.05) / 100) * 100;\n}\n\nexport function VolumeTimeGraph(props) {\n  let minRange = getMin(props.data);\n  let maxRange = getMax(props.data);\n  console.log(\"data: \", props.data);\n  let graphWidth = Math.max(700, props.data.length * 75);\n\n  return (\n    <Box sx={{ py: 5 }}>\n      <Box sx={{ width: 500, marginLeft: 20 }}>\n        <Typography variant=\"h5\" align=\"center\">\n          {props.title}\n        </Typography>\n      </Box>\n      <LineChart\n        width={graphWidth}\n        height={500}\n        data={props.data}\n        margin={{\n          top: 20,\n          right: 10,\n          left: 60,\n          bottom: 105,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"1 1\" />\n        <XAxis\n          dataKey=\"date\"\n          angle={-60}\n          dx={-25}\n          dy={30}\n          interval={0}\n          fontSize={17}\n        >\n          <Label position=\"bottom\" style={{ textAnchor: \"middle\" }} dy={80}>\n            Date\n          </Label>\n        </XAxis>\n        <YAxis\n          type=\"number\"\n          domain={[minRange, maxRange]}\n          tickMargin={10}\n          tickCount={3}\n          width={50}\n        >\n          <Label\n            angle={270}\n            position=\"left\"\n            style={{ textAnchor: \"middle\" }}\n            dx={-40}\n          >\n            Volume (mL)\n          </Label>\n        </YAxis>\n        <Tooltip />\n        <Legend />\n        <Line\n          type=\"monotone\"\n          dataKey=\"val\"\n          legendType=\"none\"\n          stroke=\"#8884d8\"\n          activeDot={{ r: 8 }}\n          strokeWidth={5}\n        />\n      </LineChart>\n    </Box>\n  );\n}\n\nexport function ShapeGraph(props) {\n  let recentSensorLengths = [];\n  if (props.data.length > 0) {\n    recentSensorLengths = props.data[props.data.length - 1];\n  } else {\n    return;\n  }\n  let data = recentSensorLengths.map((e, j) => {\n    return { val: e, sensor: j + 1 };\n  });\n  console.log(data);\n  return (\n    <Box sx={{ py: 5 }}>\n      <Box sx={{ width: 500, marginLeft: 5 }}>\n        <Typography variant=\"h5\" align=\"center\">\n          {props.title}\n        </Typography>\n      </Box>\n      <LineChart\n        width={500}\n        height={450}\n        data={data}\n        margin={{\n          top: 20,\n          right: 10,\n          left: 10,\n          bottom: 80,\n        }}\n      >\n        <CartesianGrid strokeDasharray=\"1 1\" />\n        {/* <XAxis dataKey=\"sensor\">\n          <Label position=\"bottom\" style={{ textAnchor: \"middle\" }} dy={10}>\n            Sensor\n          </Label>\n        </XAxis> */}\n        <YAxis\n          type=\"number\"\n          //domain={[minRange, maxRange]}\n          tickMargin={10}\n          tickCount={3}\n          width={60}\n        >\n          <Label angle={270} position=\"left\" style={{ textAnchor: \"middle\" }}>\n            Length (cm)\n          </Label>\n        </YAxis>\n        <Tooltip />\n        <Legend />\n        <Line\n          type=\"monotone\"\n          dataKey=\"val\"\n          legendType=\"none\"\n          stroke=\"#8884d8\"\n          activeDot={{ r: 8 }}\n          strokeWidth={5}\n        />\n      </LineChart>\n    </Box>\n  );\n}\n","import Box from \"@mui/system/Box\";\nimport { ShapeGraph, VolumeTimeGraph } from \"./VolumeTimeGraph\";\nimport {\n  Divider,\n  Typography,\n} from \"@mui/material\";\nimport React from \"react\";\n\nfunction splitMeasurements(measurements) {\n  let res = [];\n  if (measurements.vols.length <= 0) {\n    return res;\n  }\n  res.push(\n    measurements.vols.map((e, j) => {\n      return { val: measurements.vols[j], date: measurements.dates[j] };\n    })\n  );\n  console.log(\"to plot: \", res);\n  return res;\n}\n\nexport default class FinalResultsPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.graphRefs = [];\n    this.state = {\n      graphRefs: [],\n    };\n  }\n\n  render() {\n    if (!(this.props.measurements.vols.length > 0)) {\n      return (\n        <Typography align=\"center\" py={5}>\n          No volume data to display. Take a measurement first.\n        </Typography>\n      );\n    }\n    const calculatedVols = splitMeasurements(this.props.measurements);\n    return (\n      <Box sx={{ display: \"flex\" }}>\n          <Box component=\"main\" sx={{ flexGrow: 1, p: 3 }}>\n            {calculatedVols.map((e, i) => (\n              <div\n                id={`graph-${i}`}\n                key={i}\n                ref={(el) => (this.graphRefs[i] = el)}\n              >\n                <VolumeTimeGraph data={e} title={\"Knee Inflammation Progress\"} />\n              </div>\n            ))}\n          </Box>\n          <Divider />\n          <Box sx={{ flexGrow: 1, p: 3 }}>\n            {calculatedVols.map((e, i) => (\n              <div\n                id={`graph-${i}`}\n                key={i}\n                ref={(el) => (this.graphRefs[i] = el)}\n              >\n                <ShapeGraph\n                  data={this.props.measurements.lens}\n                  title={\"Andy's Joint Shape\"}\n                />\n              </div>\n            ))}\n          </Box>\n      </Box>\n    );\n  }\n}\n","import \"./App.css\";\n\nimport MeasurementPage from \"./MeasurementPage\";\nimport ResultsPage from \"./ResultsPage\";\nimport FinalResultsPage from \"./FinalResultsPage\";\n\nimport Box from \"@mui/material/Box\";\nimport React from \"react\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from \"@mui/material/Button\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport logo from \"./SentracWhiteLogo3.png\";\n\n\nconst PAGE_MEASUREMENT = \"measurement\";\nconst PAGE_RESULTS = \"results\";\nconst PAGE_FINAL_RESULTS = \"finalresults\";\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    let pseudo_len = Array.from([22.94, 22.73, 24.52, 27.11, 25.96, 21.94, 21.27]);\n    pseudo_len = pseudo_len.map(x => x / 1619)\n    console.log(pseudo_len*1824/1619)\n    this.state = {\n      currPage: \"\",\n      measurements: {\n        lens: [pseudo_len.map(x => x * 1738), pseudo_len.map(x => x * 1735), pseudo_len.map(x => x * 1719), pseudo_len.map(x => x * 1680), pseudo_len.map(x => x * 1642)],\n        vols: [1738.53330, 1735.9993, 1719.1112, 1680.2223, 1642.3813],\n        dates: [\"3/22/2022\", \"3/29/2022\", \"4/5/2022\", \"4/12/2022\", \"4/19/2022\"],\n      },\n    };\n  }\n\n  setCurrPage(page) {\n    this.setState({ currPage: page });\n  }\n\n  addMeasurement({ lens, vol, date }) {\n    let measurements = this.state.measurements;\n    measurements.lens.push(lens);\n    measurements.vols.push(vol);\n    measurements.dates.push(date);\n    this.setState({ measurements: measurements });\n    this.updateData();\n  }\n\n  async login() {\n    //TODO: sign in with google auth\n    console.log(\"logging in\");\n    this.setCurrPage(\"\");\n  }\n\n  async loadData() {\n    //TODO: load from google drive\n  }\n\n  async updateData() {\n    //TODO: update in google drive\n    console.log(\n      \"TODO: push to google. Current Measurements: \",\n      this.state.measurements\n    );\n  }\n\n  getContents() {\n    let currPage = this.state.currPage;\n    if (currPage === PAGE_MEASUREMENT) {\n      return <MeasurementPage addMeasurement={(m) => this.addMeasurement(m)} />;\n    } else if (currPage === PAGE_RESULTS) {\n      return <ResultsPage measurements={this.state.measurements} />;\n    } else if (currPage === PAGE_FINAL_RESULTS) {\n      return <FinalResultsPage measurements={this.state.measurements} />;\n    }\n    return (\n      <Box>\n        <Typography align=\"center\" py={3} sx={{ fontSize: 50 }}>Welcome to Sentrac Monitoring, Andy!</Typography>\n        <Typography align=\"center\" py={1} sx={{ fontSize: 30 }}>Click \"Take Measurement\" tab to begin assessment.</Typography>\n        <Typography align=\"center\" py={1} sx={{ fontSize: 30 }}>Click \"Results & History\" tab to view patient history.</Typography>\n      </Box>\n      \n    );\n  }\n\n  render() {\n    return (\n      <Box>\n        <CssBaseline />\n        <AppBar\n          position=\"fixed\"\n          sx={{ zIndex: (theme) => theme.zIndex.drawer + 1 }}\n        >\n          <Toolbar>\n            <img\n              src={logo}\n              width={80}\n              style={{ marginBottom: 5 }}\n              alt=\"Sentrac Logo\"\n            ></img>\n            <Typography variant=\"h4\" component=\"div\" sx={{ mx: \"25px\" }}>\n              sentrac\n            </Typography>\n            <Box sx={{ flexGrow: 1 }}>\n              <Button\n                variant=\"outlined\"\n                color=\"inherit\"\n                onClick={() => this.setCurrPage(PAGE_MEASUREMENT)}\n              >\n                Take Measurement\n              </Button>\n              {/* <Button\n                variant=\"outlined\"\n                color=\"inherit\"\n                onClick={() => this.setCurrPage(PAGE_RESULTS)}\n              >\n                Sensor Results\n              </Button> */}\n              <Button\n                variant=\"outlined\"\n                color=\"inherit\"\n                onClick={() => this.setCurrPage(PAGE_FINAL_RESULTS)}\n              >\n                Results & History\n              </Button>\n            </Box>\n            <Box color=\"inherit\" variant=\"outlined\" p={1} sx={{ border: 1, borderRadius: '4px' }}>\n              Welcome, Andy\n            </Box>\n          </Toolbar>\n        </AppBar>\n        <Box>\n          <div style={{ marginBottom: 105 }}></div>\n          {this.getContents()}\n        </Box>\n      </Box>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { ThemeProvider, createTheme } from \"@mui/material\";\n\nconst theme = createTheme({\n  palette: {\n    primary: {\n      main: \"#f0596f\",\n      //f0596f\n      //ee2b62\n    },\n  },\n  typography: {\n    fontSize: 20,\n    fontFamily: 'Ubuntu',\n  }\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}